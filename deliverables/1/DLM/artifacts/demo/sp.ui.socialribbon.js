if("undefined"==typeof g_all_modules)g_all_modules={};g_all_modules["sp.ui.socialribbon.js"]={version:{rmj:16,rmm:0,rup:4522,rpr:1e3}};typeof spWriteProfilerMark=="function"&&spWriteProfilerMark("perfMarkBegin_sp.ui.socialribbon.js");Type.registerNamespace("SP.UI.SocialData");SP.UI.SocialData.TermChangeType=function(){};SP.UI.SocialData.TermChangeType.prototype={add:0,change:1,remove:2,isPrivateChange:3};SP.UI.SocialData.TermChangeType.registerEnum("SP.UI.SocialData.TermChangeType",false);SP.UI.SocialData.TRCMode=function(){};SP.UI.SocialData.TRCMode.prototype={noteBoard:0,tag:1};SP.UI.SocialData.TRCMode.registerEnum("SP.UI.SocialData.TRCMode",false);SP.UI.SocialData.TermChange=function(a,b,c,d){this.ChangeType=a;this.TermID=b;this.Term=c;this.IsPrivate=d};SP.UI.SocialData.TermChange.prototype={ChangeType:0,TermID:null,Term:null,IsPrivate:false};SP.UI.SocialData.SocialTagItem=function(a,b,c){this.$$d_$1D_2=Function.createDelegate(this,this.$1D_2);SP.UI.SocialData.SocialTagItem.initializeBase(this,[a]);this.$a_2=b;this.$Z_2=c};SP.UI.SocialData.SocialTagItem.prototype={$C_2:null,$a_2:null,$Z_2:null,$B_2:null,$1J_2:function(){if(SP.ScriptUtility.isNullOrUndefined(this.$9_2))return;this.$9_2.innerHTML=""},$U_2:null,$I_2:null,$1A_2:null,$9_2:null,dispose:function(){try{null!==this.$9_2&&null!==this.$B_2&&$removeHandler(this.$9_2,"click",this.$B_2);this.$B_2=null}finally{Sys.Component.prototype.dispose.call(this)}},$1i_2:function(a){if(null===this.$B_2)this.$B_2=this.$$d_$1D_2;$addHandler(a,"click",this.$B_2)},$1D_2:function(e){e.preventDefault();e.stopPropagation();var a=SP.UI.Menu.create(this.$I_2+"socialtag");this.$C_2&&!this.$C_2.$12_2(this.$I_2)&&a.addMenuItem(this.$C_2.get_$1l_2(),"javascript:"+this.$C_2.objectName+".addTag('"+this.$I_2+"')",null,null,10,null,null);var f=this.$C_2.get_$1p_2();if(!SP.ScriptUtility.isNullOrEmptyString(f)){var c=new SP.Utilities.UrlBuilder(f);c.addKeyValueQueryString("termid",this.$I_2);var b=String.format(this.$a_2,this.$U_2);if(b.length>50)b=b.substring(0,50)+"...";var d;if(this.$Z_2==="1")d=String.format("javascript:window.open('{0}');",c.get_url());else d=String.format("javascript:parent.location.href='{0}';",c.get_url());a.addMenuItem(b,d,null,null,20,null,null)}else a.addMenuItem(this.$U_2,null,null,null,20,null,null);a.show(e.target,false,false,0)},$1r_2:function(c){if(SP.ScriptUtility.isNullOrUndefined(c))return;this.$U_2=c.Path;this.$I_2=c.TermID;this.$1A_2=c.Term;if(SP.ScriptUtility.isNullOrUndefined(this.$9_2)||SP.ScriptUtility.isNullOrEmptyString(this.$9_2.innerHTML)){var a=c.Term;if(!SP.ScriptUtility.isNullOrEmptyString(a)&&a.length>20)a=a.substring(0,20)+"...";a=SP.Utilities.HttpUtility.htmlEncode(a);var b=document.createElement("a");b.href="#";b.innerHTML=a;b.title=c.TermFullPathName;this.$1i_2(b);this.$9_2=b;this.get_element().appendChild(b)}}};SP.UI.SocialData.SocialTagsControl=function(a){this.$$d_$1E_2=Function.createDelegate(this,this.$1E_2);this.$$d_$1F_2=Function.createDelegate(this,this.$1F_2);this.$$d_$1e_2=Function.createDelegate(this,this.$1e_2);this.$$d_$1Z_2=Function.createDelegate(this,this.$1Z_2);this.$$d_$1b_2=Function.createDelegate(this,this.$1b_2);this.$$d_$1c_2=Function.createDelegate(this,this.$1c_2);this.$$d_$1t_2=Function.createDelegate(this,this.$1t_2);this.$5_2=new Array(0);this.$L_2=new Array(0);SP.UI.SocialData.SocialTagsControl.initializeBase(this,[a]);Sys.Net.WebRequestManager.add_invokingRequest(this.$$d_$1t_2)};SP.UI.SocialData.SocialTagsControl.prototype={$1t_2:function(c,b){var a=$get("__REQUESTDIGEST");b.get_webRequest().get_headers()["X-RequestDigest"]=a.value},$1B_2:"11111111-1111-1111-1111-111111111111",$14_2:"22222222-2222-2222-2222-222222222222",get_$1o_2:function(){return this.SuggestedTagsAreaID},get_$15_2:function(){return this.PickerContainerID},get_$1n_2:function(){return this.SaveButtonID},get_$1g_2:function(){return this.RecommendationAreaID},get_$1h_2:function(){return this.RecommendationNoDataAreaID},get_$1C_2:function(){return this.Url},get_$1q_2:function(){return this.Title},get_$h_2:function(){return this.PageSize},get_$1f_2:function(){return this.PrivateChkBoxID},get_$1p_2:function(){return this.TagResultPageUrl},get_$1l_2:function(){return this.ResAddTagString},get_$17_2:function(){return this.ResFailureNotifyText},get_$18_2:function(){return this.ResGetTagNotifyText},get_$16_2:function(){return this.ResErrorTagNotifyText},get_$1m_2:function(){return this.ResTagProfLink},get_$1W_2:function(){return this.InWindow},$K_2:true,$0_2:null,$3_2:null,$N_2:null,$V_2:null,$W_2:null,$4_2:null,$J_2:null,$e_2:null,objectName:"",get_$2_2:function(){if(!this.$G_2)this.$G_2=new Array(0);return this.$G_2},$G_2:null,get_$8_2:function(){if(SP.ScriptUtility.isNullOrUndefined(this.$T_2))this.$T_2=$get(this.get_$15_2()+"editableRegion");return this.$T_2},$T_2:null,$12_2:function(c){var a=false;if(SP.ScriptUtility.isNullOrUndefined(c))a=false;else if(this.get_$2_2())for(var b=0;b<this.get_$2_2().length;b++){var d=this.get_$2_2()[b];if(d.get_guid()===c){a=true;break}}return a},initialize:function(){Sys.Component.prototype.initialize.call(this);this.$3_2=$get(this.get_$1n_2());this.$3_2.disabled=true;$addHandler(this.$3_2,"click",this.$$d_$1c_2);this.$N_2=$get(this.get_$1o_2());this.$V_2=$get(this.get_$1g_2());this.$W_2=$get(this.get_$1h_2());this.$4_2=$get(this.get_$1f_2());$addHandler(this.$4_2,"click",this.$$d_$1b_2);if(SP.ScriptUtility.isNullOrUndefined(this.$e_2))this.$1V_2();else this.$n_2(this.$e_2);this.$u_2();!SP.ScriptUtility.isNullOrUndefined(this.$0_2)&&this.$0_2.setMinimumHeight(65)},dispose:function(){try{Sys.Net.WebRequestManager.remove_invokingRequest(this.$$d_$1t_2);null!==this.$3_2&&$removeHandler(this.$3_2,"click",this.$$d_$1c_2);null!==this.$4_2&&$removeHandler(this.$4_2,"click",this.$$d_$1b_2)}finally{Sys.Component.prototype.dispose.call(this)}},SetFocus:function(){if(!SP.ScriptUtility.isNullOrUndefined(this.$0_2))if(!SP.ScriptUtility.isNullOrUndefined(this.get_$8_2())){RTE.Cursor.get_range().moveToEndOfNode(this.get_$8_2());RTE.Cursor.update()}},ensureEvent:function(){if(this.$K_2||SP.ScriptUtility.isNullOrUndefined(this.get_$8_2()))return;Sys.UI.DomElement.addCssClass(this.get_$8_2(),"ms-taxonomy-writeableregion");this.$K_2=true},discardEvent:function(){if(!this.$K_2||SP.ScriptUtility.isNullOrUndefined(this.get_$8_2()))return;Sys.UI.DomElement.removeCssClass(this.get_$8_2(),"ms-taxonomy-writeableregion");this.$K_2=false},$1H_2:function(){this.$u_2();if(SP.ScriptUtility.isNullOrUndefined(this.$J_2))this.$J_2=this.$$d_$1Z_2;this.$3_2.disabled=false},$u_2:function(){var a=$get(this.get_$15_2());if(!a)return;if(SP.ScriptUtility.isNullOrUndefined(this.$0_2))this.$0_2=new Microsoft.SharePoint.Taxonomy.ControlObject(a)},$1Z_2:function(){this.$0_2.removeAllTermValidHandler(this.$J_2);var b=this.$0_2.getRawText(),c=Microsoft.SharePoint.Taxonomy.Term.getTerms(b),a=this.$m_2(c);this.$k_2(a);if(null===a||0===a.length){this.$3_2.disabled=false;return}if(!this.$0_2.get_allTermsValid()){this.$3_2.disabled=false;this.$Y_2(String.format(this.get_$16_2(),this.$0_2.getFirstInvalidTerm()));return}this.$g_2(a)},$11_2:function(){return null===this.$4_2?false:this.$4_2.checked},$1c_2:function(b){b.preventDefault();b.stopPropagation();if(this.$1Y_2()){this.$0_2.addAllTermValidHandler(this.$J_2);this.$0_2.validateAll(true);this.$3_2.disabled=true}else{var c=new Array(0),a=this.$m_2(c);this.$k_2(a);if(null===a||0===a.length){this.$3_2.disabled=false;return}if(!this.$0_2.get_allTermsValid()){this.$3_2.disabled=false;this.$Y_2(String.format(this.get_$16_2(),this.$0_2.getFirstInvalidTerm()));return}this.$3_2.disabled=true;this.$g_2(a)}},$1Y_2:function(){var b=this.$0_2.getRawText(),a="";if(!SP.ScriptUtility.isNullOrUndefined(this.get_$8_2().innerText))a=this.get_$8_2().innerText;else a=this.get_$8_2().textContent;return SP.ScriptUtility.isNullOrEmptyString(b)&&SP.ScriptUtility.isNullOrEmptyString(a)?false:true},$1b_2:function(){var e=this.$0_2.getRawText();if(SP.ScriptUtility.isNullOrEmptyString(e))return;var c=Microsoft.SharePoint.Taxonomy.Term.getTerms(e);if(!c.length)return;for(var f=this.$11_2(),b=new Array(0),d=0;d<c.length;d++){var a=c[d];if(a.get_guid()!==this.$1B_2&&a.get_guid()!==this.$14_2)if(this.$12_2(a.get_guid()))b[b.length]=new SP.UI.SocialData.TermChange(3,a.get_guid(),a.get_text(),f);else b[b.length]=new SP.UI.SocialData.TermChange(0,a.get_guid(),a.get_text(),f)}this.$g_2(b)},$H_2:null,$1V_2:function(){var a={};a.targetPage=this.get_$1C_2();a.maximumItemsToReturn=this.get_$h_2().toString();this.$Y_2(this.get_$18_2());this.$o_2(SP.UI.SocialData.SocialTagsControl.$19,false,a,null)},$Q_2:null,$S_2:"",$g_2:function(c){this.$Q_2=c;if(SP.ScriptUtility.isNullOrEmptyString(this.$S_2)){var a=window.PageUrlNormalizer;a=a.GetInstance();var b=this.$$d_$1e_2;a.GetUrl(this.get_$1C_2(),b)}else this.$p_2(this.$Q_2)},$1e_2:function(a){this.$S_2=a;this.$p_2(this.$Q_2)},$p_2:function(b){if(!b.length)return;if(null!==this.$4_2)this.$4_2.disabled=true;var a={};a.targetPage=this.$S_2;a.title=this.get_$1q_2();a.changes=b;a.maximumItemsToReturn=this.get_$h_2().toString();this.$Y_2(this.get_$18_2());this.$o_2(SP.UI.SocialData.SocialTagsControl.$j,false,a,b)},$Y_2:function(a){!SP.ScriptUtility.isNullOrEmptyString(this.$H_2)&&this.$d_2();this.$H_2=SP.UI.Notify.addNotification(a,true)},$d_2:function(){if(!SP.ScriptUtility.isNullOrEmptyString(this.$H_2)){SP.UI.Notify.removeNotification(this.$H_2);this.$H_2=null}},$o_2:function(b,c,d,e){this.$l_2();var a=SP.Utilities.UrlBuilder.urlCombine(SP.PageContextInfo.get_webServerRelativeUrl(),SP.UI.SocialData.SocialTagsControl.$s);Sys.Net.WebServiceProxy.invoke(SP.Utilities.HttpUtility.urlPathEncode(a),b,c,d,this.$$d_$1F_2,this.$$d_$1E_2,e,Sys.Net.WebRequestManager.get_defaultTimeout(),false,null);this.get_element().style.cursor="wait"},$l_2:function(){window.removeAllStatus("true")},$1G_2:function(){if(SP.ScriptUtility.isNullOrEmptyString(this.get_$17_2()))return;var a="<span class='ms-errorinl'>";a+=this.get_$17_2();a+="</span>";window.addStatus(null,a,"true")},$1E_2:function(){this.$d_2();this.get_element().style.cursor="default";this.$3_2.disabled=false;this.$1G_2()},$1F_2:function(a,c,b){this.$n_2(a);this.$d_2();if(b===SP.UI.SocialData.SocialTagsControl.$j)this.$3_2.disabled=false;this.get_element().style.cursor="default";this.$l_2()},$n_2:function(b){if(null===b)return;var a=b;this.$5_2=a.MyTags;this.$L_2=a.OtherTags;this.$1j_2(this.$5_2);this.$1k_2(this.$L_2);this.$1s_2(this.$5_2)},$1s_2:function(a){var b=true;if(!a||0===a.length)b=false;else for(var c=0;c<a.length;c++){var d=a[c];if(!d.IsPrivate){b=false;break}}this.$4_2.checked=b;this.$4_2.disabled=false},$1j_2:function(b){this.$1H_2();if(null===b||0===b.length)return;this.$G_2=new Array(0);for(var c=0;c<b.length;c++){var d=b[c],e=new Microsoft.SharePoint.Taxonomy.Term(d.Term+"|"+d.TermID);e.set_path(d.Path);this.$q_2(e)}this.$0_2.setRawText("");for(var a=0;a<this.get_$2_2().length;a++)this.$0_2.addTerm(this.get_$2_2()[a].get_guid(),this.get_$2_2()[a].get_text())},$q_2:function(a){if(null===this.get_$2_2())this.$G_2=new Array(0);this.get_$2_2()[this.get_$2_2().length]=a},addTag:function(i){for(var f=null,c=0;c<this.$L_2.length;c++){var g=this.$L_2[c];if(i.toString()!==g.TermID)continue;f=g;break}if(!this.$5_2)this.$5_2=new Array(0);this.$5_2[this.$5_2.length]=f;for(var a=new Array(0),d=0;d<this.$5_2.length;d++){var e=this.$5_2[d],h=new Microsoft.SharePoint.Taxonomy.Term(e.Term+"|"+e.TermID);h.set_path(e.Path);a[a.length]=h}this.$0_2.setRawText("");for(var b=0;b<a.length;b++)this.$0_2.addTerm(a[b].get_guid(),a[b].get_text());this.$3_2.click()},$7_2:null,$1k_2:function(d){if(null===d||0===d.length){this.$N_2.style.display="none";this.$V_2.style.display="none";this.$W_2.style.display="block";return}this.$W_2.style.display="none";this.$V_2.style.display="block";this.$N_2.style.display="block";if(SP.ScriptUtility.isNullOrUndefined(this.$7_2)){this.$7_2=new Array(0);var b=document.createElement("table");b.style.width="100%";b.className="ms-socialDataFrameContents";var e=document.createElement("tbody");e.style.width="100%";b.appendChild(e);for(var c=null,f=0;f<this.get_$h_2();f++){var j=f%3;if(!j){c=document.createElement("tr");c.style.width="100%";e.appendChild(c)}var g=document.createElement("td");g.style.width="33%";c.appendChild(g);var i=new SP.UI.SocialData.SocialTagItem(g,this.get_$1m_2(),this.get_$1W_2());i.$C_2=this;this.$7_2[this.$7_2.length]=i}this.$N_2.appendChild(b)}for(var h=0;h<this.$7_2.length;h++)this.$7_2[h].$1J_2();for(var a=0;a<d.length;a++)!SP.ScriptUtility.isNullOrUndefined(this.$7_2[a])&&this.$7_2[a].$1r_2(d[a])},$k_2:function(e){if(!e)return;for(var c=0;c<e.length;c++){var a=e[c];switch(a.ChangeType){case 0:this.$q_2(new Microsoft.SharePoint.Taxonomy.Term(a.Term+"|"+a.TermID));break;case 1:for(var d=0;d<this.get_$2_2().length;d++){var f=this.get_$2_2()[d];f.get_guid()===a.TermID&&f.set_text(a.Term)}break;case 2:for(var g=this.get_$2_2().length,b=g-1;b>=0;b--){var h=this.get_$2_2()[b];h.get_guid()===a.TermID&&Array.removeAt(this.get_$2_2(),b)}}}},$m_2:function(c){var a=new Array(0),d=null;if(!SP.ScriptUtility.isNullOrUndefined(c)&&c.length>0)d=Array.clone(c);for(var g=this.$11_2(),h=0;h<this.get_$2_2().length;h++){var e=this.get_$2_2()[h],i=false;if(!SP.ScriptUtility.isNullOrUndefined(c)&&c.length>0)for(var f=0;f<c.length;f++){var b=c[f];if(!b.get_isValid())continue;if(e.get_text()===b.get_text()&&e.get_guid()===b.get_guid()){d[f]=null;i=true;continue}if(e.get_guid()===b.get_guid()&&e.get_text()!==b.get_text()){d[f]=null;i=true;a[a.length]=new SP.UI.SocialData.TermChange(1,b.get_guid(),b.get_text(),g)}}if(!i)a[a.length]=new SP.UI.SocialData.TermChange(2,e.get_guid(),e.get_text(),g)}if(!SP.ScriptUtility.isNullOrUndefined(d))for(var j=0;j<d.length;j++){var k=d[j];if(null===k)continue;a[a.length]=new SP.UI.SocialData.TermChange(0,k.get_guid(),k.get_text(),g)}return a}};SP.UI.SocialData.TRCCommandNames=function(){};SP.UI.SocialData.TRCRibbonComponent=function(){this.$$d_$1a_1=Function.createDelegate(this,this.$1a_1);this.$$d_$1d_1=Function.createDelegate(this,this.$1d_1);SP.UI.SocialData.TRCRibbonComponent.initializeBase(this)};SP.UI.SocialData.TRCRibbonComponent.get_Instance=function(){if(!SP.UI.SocialData.TRCRibbonComponent.$M)SP.UI.SocialData.TRCRibbonComponent.$M=new SP.UI.SocialData.TRCRibbonComponent;return SP.UI.SocialData.TRCRibbonComponent.$M};SP.UI.SocialData.TRCRibbonComponent.RegisterWithPageManager=function(){SP.Ribbon.PageManager.get_instance().addPageComponent(SP.UI.SocialData.TRCRibbonComponent.get_Instance())};SP.UI.SocialData.TRCRibbonComponent.unregisterWithPageManager=function(){SP.UI.SocialData.TRCRibbonComponent.$M&&SP.Ribbon.PageManager.get_instance().removePageComponent(SP.UI.SocialData.TRCRibbonComponent.get_Instance())};SP.UI.SocialData.TRCRibbonComponent.OpenTRC=function(f,g,b){var d=SP.Utilities.HttpUtility.urlPathEncode(SP.PageContextInfo.get_webServerRelativeUrl());d=SP.Utilities.UrlBuilder.urlCombine(d,"_layouts/socialdataframe.aspx");var c=new SP.Utilities.UrlBuilder(d);c.addKeyValueQueryString("Url",g);if(SP.ScriptUtility.isNullOrEmptyString(b))b=document.title;c.addKeyValueQueryString("Title",b);var e=0;if(!f)e=1;c.addKeyValueQueryString("mode",e.toString());var a=new SP.UI.DialogOptions;a.height=470;a.width=600;a.url=c.get_url();a.title=b;SP.UI.ModalDialog.showModalDialog(a)};SP.UI.SocialData.TRCRibbonComponent.prototype={$13_1:null,$R_1:null,$F_1:null,get_$1X_1:function(){if(!SP.ScriptUtility.isNullOrEmptyString(this.$F_1))return this.$F_1;var a=null;a=this.ListID;if(!SP.ScriptUtility.isNullOrEmptyString(a))this.$F_1=a.toUpperCase();else this.$F_1=null;return this.$F_1},getId:function(){return"TRCRibbonComponent"},get_$t_1:function(){return this.EnableSocialComment},get_$D_1:function(){return this.EnableSocialTag},$f_1:0,m_enableSocialComment:false,m_enableSocialTag:false,init:function(){this.$13_1=[];this.$R_1=[SP.UI.SocialData.TRCCommandNames.tagsAndNotesGroup,SP.UI.SocialData.TRCCommandNames.tagsAndNotes,SP.UI.SocialData.TRCCommandNames.tagsAndNotesPage,SP.UI.SocialData.TRCCommandNames.iLikeIt]},getFocusedCommands:function(){return this.$R_1},getGlobalCommands:function(){return this.$R_1},canHandleCommand:function(a){var b=Flighting.VariantConfiguration.IsExpFeatureClientEnabled(234);return a===SP.UI.SocialData.TRCCommandNames.tagsAndNotesGroup?true:a===SP.UI.SocialData.TRCCommandNames.tagsAndNotes&&!b?(this.get_$D_1()||this.get_$t_1())&&this.$P_1()&&this.$O_1()===1:a===SP.UI.SocialData.TRCCommandNames.tagsAndNotesPage&&!b?this.get_$D_1()||this.get_$t_1():a===SP.UI.SocialData.TRCCommandNames.iLikeIt&&!b?this.get_$D_1()&&this.$P_1()&&this.$O_1()>0:false},SelectedListAndItemIds:function(){var d=SP.ListOperation.Selection.getSelectedList();if(SP.ScriptUtility.isNullOrUndefined(d))return"";var e=SP.ListOperation.Selection.getSelectedItems();if(SP.ScriptUtility.isNullOrUndefined(e))return"";var a="",f=null,b=e;for(var c in b){var g={key:c,value:b[c]};a=a+g.value.id+","}if(a.length)f=d+"|"+a.substring(0,a.length-1);return f},$O_1:function(){var d=SP.ListOperation.Selection.getSelectedItems(),c=0,a=d;for(var b in a){var e={key:b,value:a[b]};c++}return c},$1d_1:function(b,c){this.$f_1=2;this.$X_1(c);var a=b;if(a&1)this.m_enableSocialTag=true;if(a&2)this.m_enableSocialComment=true;SP.Ribbon.PageManager.get_instance().get_commandDispatcher().executeCommand("appstatechanged",null)},$1a_1:function(b,a){this.$f_1=2;this.$X_1(a)},addQuickTag:function(){},AddQuickTagToListItem:function(){},_OnFailedCallback:function(c,a){this.$X_1(a);document.body.style.cursor="default"},_OnSucceededCallback:function(c,a){this.$X_1(a);document.body.style.cursor="default"},$X_1:function(a){!SP.ScriptUtility.isNullOrUndefined(a)&&SP.UI.Notify.removeNotification(a)},$P_1:function(){return SP.ScriptUtility.isNullOrEmptyString(this.get_$1X_1())?false:true},handleCommand:function(a){if(a===SP.UI.SocialData.TRCCommandNames.tagsAndNotes){if(!this.$P_1()||!this.$O_1())this.$r_1(this.get_$D_1()?1:0);else this.$1I_1(this.get_$D_1()?1:0);return true}else if(a===SP.UI.SocialData.TRCCommandNames.tagsAndNotesPage){this.$r_1(this.get_$D_1()?1:0);return true}else if(a===SP.UI.SocialData.TRCCommandNames.iLikeIt){if(!this.$P_1()||!this.$O_1())this.addQuickTag(0);else this.AddQuickTagToListItem(0);return true}return false},$r_1:function(c){var a="",b=window.self.ajaxNavigate;if(!SP.ScriptUtility.isNullOrUndefined(b))a=b.get_href();else a=window.location.href;SP.UI.SocialData.TRCRibbonComponent.OpenTRC(c,a,document.title)},$1I_1:function(g){var c=SP.Utilities.HttpUtility.urlPathEncode(SP.PageContextInfo.get_webServerRelativeUrl());c=SP.Utilities.UrlBuilder.urlCombine(c,"_layouts/socialdataframe.aspx");var a=new SP.Utilities.UrlBuilder(c),f=this.SelectedListAndItemIds(),d=f.split("|");a.addKeyValueQueryString("listid",d[0]);a.addKeyValueQueryString("id",d[1]);var e=0;if(!g)e=1;a.addKeyValueQueryString("mode",e.toString());var b=new SP.UI.DialogOptions;b.height=470;b.width=600;b.url=a.get_url();SP.UI.ModalDialog.showModalDialog(b)},isFocusable:function(){return false},receiveFocus:function(){return false},yieldFocus:function(){return false}};SP.UI.SocialData.TermChange.registerClass("SP.UI.SocialData.TermChange");SP.UI.SocialData.SocialTagItem.registerClass("SP.UI.SocialData.SocialTagItem",Sys.UI.Control);SP.UI.SocialData.SocialTagsControl.registerClass("SP.UI.SocialData.SocialTagsControl",Sys.UI.Control);SP.UI.SocialData.TRCCommandNames.registerClass("SP.UI.SocialData.TRCCommandNames");SP.UI.SocialData.TRCRibbonComponent.registerClass("SP.UI.SocialData.TRCRibbonComponent",CUI.Page.PageComponent);function sp_ui_socialribbon_initialize(){SP.UI.SocialData.SocialTagsControl.$s="_vti_bin/socialdatainternalservice.json";SP.UI.SocialData.SocialTagsControl.$j="ManageTagInternal";SP.UI.SocialData.SocialTagsControl.$19="GetSocialTagInternal";SP.UI.SocialData.TRCCommandNames.tagsAndNotesGroup="TagsAndNotesGroup";SP.UI.SocialData.TRCCommandNames.tagsAndNotes="TagsAndNotes";SP.UI.SocialData.TRCCommandNames.tagsAndNotesPage="TagsAndNotesPage";SP.UI.SocialData.TRCCommandNames.tabSwitch="CommandContextChanged";SP.UI.SocialData.TRCCommandNames.tabNote="Ribbon.Note";SP.UI.SocialData.TRCCommandNames.tabSocialTag="Ribbon.SocialTag";SP.UI.SocialData.TRCCommandNames.iLikeIt="ILikeIt";SP.UI.SocialData.TRCRibbonComponent.$M=null}sp_ui_socialribbon_initialize();RegisterModuleInit("sp.ui.socialribbon.js",sp_ui_socialribbon_initialize);typeof Sys!="undefined"&&Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded();NotifyScriptLoadedAndExecuteWaitingJobs("sp.ui.socialribbon.js");_spApplicationPagesScriptLoaded=true;typeof spWriteProfilerMark=="function"&&spWriteProfilerMark("perfMarkEnd_sp.ui.socialribbon.js");